<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" integrity="sha256-iM4Yzi/zLj/IshPWMC1IluRxTtRjMqjPGd97TZ9yYpU=" crossorigin="anonymous"></script>
        <script src="/dist/alpine.js" defer></script>
    </head>
    <body>
        <h1>First Page</h1>
        <a href="/turbolinks-manual-test/navigated-away">Second Page</a>

        <h2>This component should be preserved and be working in the Second page</h2>
        <div x-data="{ foo: 'bar' }" id="foo" data-turbolinks-permanent>
            <input x-model="foo"></input>

            <button x-on:click="foo = 'baz'"></button>
        </div>

        <h2>This item should not add a duplicate span item when navigating away and back to this page</h2>
        <div x-data="{ foo: 'bar', open: true }">
            <template x-if="open">
                <span x-text="foo"></span>
            </template>
        </div>

        <h2>This item should not add duplicate span items when navigating away and back to this page</h2>
        <div x-data="{ foo: ['bar', 'baz'] }">
            <template x-for="item in foo">
                <span x-text="item"></span>
            </template>
        </div>

        <h2>This component should be preserved and not be logging any errors when navigating to the Second page</h2>
        <div x-data="{ foo: ['bar', 'baz'] }" id="bar" data-turbolinks-permanent>
            <template x-for="item in foo">
                <span x-text="item"></span>
            </template>
        </div>
    </body>
</html>
